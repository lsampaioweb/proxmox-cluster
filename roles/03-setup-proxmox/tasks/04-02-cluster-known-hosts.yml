---
- name: Adding the fingerprint of host {{ item }} into the know_hosts file
  include_tasks: "roles/common/tasks/known_hosts/add.yml"
  loop:
    - { name: "{{ item }}",                         key: "{{ item }}" }
    - { name: "{{ item }}.{{ domain }}",            key: "{{ item }}.{{ domain }}"}
    - { name: "{{ hostvars[item].management_ip }}", key: "{{ hostvars[item].management_ip }}" }
    - { name: "{{ hostvars[item].internal_ip }}",   key: "{{ hostvars[item].internal_ip }}" }
  loop_control:
    loop_var: host