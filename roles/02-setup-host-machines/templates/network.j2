# network interface settings; autogenerated
# Please do NOT modify this file directly, unless you know what
# you're doing.
#
# If you want to manage parts of the network configuration manually,
# please utilize the 'source' or 'source-directory' directives to do
# so.
# PVE will preserve these directives, but will NOT read its network
# configuration from sourced files, so do not attempt to move any of
# the PVE managed interfaces into external files!

auto lo
iface lo inet loopback

auto eth0
iface eth0 inet manual {{ ethtool_command_eth0 | indent(width=8) }}

auto eth1
iface eth1 inet manual

auto eth2
iface eth2 inet manual

auto eth3
iface eth3 inet manual

auto eth4
iface eth4 inet manual {{ ethtool_command_eth4 | indent(width=8) }}

auto bond0
iface bond0 inet manual
        bond-slaves {{ bond_slaves }}
        bond-miimon 100
        bond-mode 802.3ad
        bond-xmit-hash-policy layer2+3 {{ bond0_pre_up | indent(width=8) }}
#Internal connections.

auto bond0.10
iface bond0.10 inet manual

auto bond0.2000
iface bond0.2000 inet manual

auto bond0.3000
iface bond0.3000 inet manual

auto vmbr0
iface vmbr0 inet static
        address {{ management_ip_and_netmask }}
        gateway {{ pve_gateway }}
        bridge-ports {{ management_nic }}
        bridge-stp off
        bridge-fd 0
#Management.

auto vmbr1
iface vmbr1 inet static
        address {{ internal_ip_and_netmask }}
        bridge-ports bond0.10
        bridge-stp off
        bridge-fd 0
        bridge-vlan-aware yes
        bridge-vids 10-99
#Internal Services (10-99).

auto vmbr2
iface vmbr2 inet static
        bridge-ports bond0.2000
        bridge-stp off
        bridge-fd 0
        bridge-vlan-aware yes
        bridge-vids 2000-2999
#VMs Development (2000-2999).

auto vmbr3
iface vmbr3 inet static
        bridge-ports bond0.3000
        bridge-stp off
        bridge-fd 0
        bridge-vlan-aware yes
        bridge-vids 3000-3999
#VMs Production (3000-3999).
